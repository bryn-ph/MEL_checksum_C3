<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Own Adventure</title>
    <!-- Inline data-URL favicon first to avoid file:// favicon restrictions and caching oddities -->
    <link rel='icon' sizes='any' type='image/svg+xml' href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect width="64" height="64" rx="14" fill="%230FA958"/><text x="50%" y="56%" text-anchor="middle" font-family="Arial, Helvetica, sans-serif" font-size="40" fill="%23ffffff">$</text></svg>'>
    <link rel="icon" href="assets/icon.svg?v=1" type="image/svg+xml" sizes="any">
    <link rel="mask-icon" href="assets/icon.svg?v=1" color="#0FA958">
    <meta name="theme-color" content="#0FA958">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="menu-container" class="d-flex flex-column justify-content-center align-items-center vh-100">
        <div class="p-4 text-center" style="background:#ffffffee;border-radius:12px;max-width:720px;box-shadow:0 6px 16px rgba(0,0,0,0.15)">
            <h1 class="mb-2">Dollar Decisions In The Land Down Under</h1>
            <p class="text-muted mb-3">Land a job, find a roof, dodge fees, and try not to rage-quit the housing market.</p>
            <button id="start-game" class="btn btn-success btn-lg">
                🎮 Start Game
            </button>
            <div id="menu-toast" class="result-banner d-none mt-3" aria-live="polite"></div>
            <hr/>
            <h5 class="mb-2">🕹️ Minigame Playground</h5>
            <p class="text-muted" style="margin-top:-6px">Practice and have fun—results here won’t change your career or cash.</p>
            <div class="d-flex flex-wrap gap-2 justify-content-center">
                <button id="play-coinrush" class="btn btn-outline-success btn-sm">Play Coin Rush</button>
                <button id="play-billdodge" class="btn btn-outline-warning btn-sm">Play Bill Dodge</button>
                <button id="play-typing" class="btn btn-outline-primary btn-sm">Play Typing Challenge</button>
                <button id="play-reaction" class="btn btn-outline-info btn-sm">Play Reaction Test</button>
                <button id="play-math" class="btn btn-outline-dark btn-sm">Play Quick Math</button>
            </div>
        </div>
    </div>

    <div id="game-container" class="d-none">
        <div id="stats" class="d-flex justify-content-around mb-3 flex-wrap gap-2">
            <div id="money-counter" class="badge-money">💰 Money: $2000</div>
            <div id="stress-counter" class="badge-stress">😰 Stress: 0</div>
            <div id="debt-counter" class="d-none badge-debt">💳 Debt: $0</div>
            <div id="stocks-counter" class="d-none badge-stocks">📈 Stocks: $0</div>
            <div id="progress-counter">📊 Progress: 0 / 35</div>
            <button id="sfx-toggle" class="btn btn-sm btn-outline-secondary">🔊 SFX: On</button>
            <div class="progress-wrapper w-100"><div id="progress-bar" class="progress-bar"></div></div>
            <div id="achievements" class="achievements w-100"></div>
        </div>
        <h1 class="text-center">Choose Your Own Adventure: Moving to Australia</h1>
    <div id="event-result" class="result-banner d-none" aria-live="polite"></div>
    <div id="confetti-container" class="confetti-container" aria-hidden="true"></div>
        <div id="game-text" class="mt-4"></div>
        <div id="game-options" class="mt-3"></div>
        <button id="quit-game" class="btn btn-danger mt-3">Quit to Main Menu</button>
    </div>

    <!-- Minigame overlay -->
    <div id="minigame-overlay" class="minigame-overlay d-none" aria-modal="true" role="dialog">
        <div id="minigame-card" class="minigame-card">
            <div id="minigame-root"></div>
        </div>
    </div>

    <div id="game-over-screen" class="d-none text-center p-4">
        <h1 class="text-danger">Game Over</h1>
        <p id="game-over-message" class="mt-3">You ran out of money and couldn't continue your journey.</p>
        <p class="text-muted">Life tip: Budgeting is your shield; emergency funds are your potions.</p>
        <button id="restart-game" class="btn btn-primary mt-3">Restart Game</button>
    </div>

    <div id="success-screen" class="d-none text-center p-4">
        <h1 class="text-success">Congratulations!</h1>
        <p id="success-message" class="mt-3">You successfully navigated life in Australia and achieved your dreams!</p>
        <p class="text-muted">Meaningful note: Wealth is freedom, not flex. Invest in peace as much as profits.</p>
        <button id="restart-success" class="btn btn-primary mt-3">Play Again</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/state.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/data.js"></script>
    <script src="js/minigames.js"></script>
    <script src="js/engine.js"></script>
    <script src="js/main.js"></script>
</body>
</html>